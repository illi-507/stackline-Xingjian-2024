(this["webpackJsonpstackline-app"]=this["webpackJsonpstackline-app"]||[]).push([[0],{158:function(e,t,a){e.exports=a(176)},167:function(e,t,a){},168:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var l=a(1),n=a.n(l),r=a(42),c=a.n(r),s=(a(167),a(168),a(178));function o(){return async function(e){try{e({type:"FETCH_DATA_SUCCESS",payload:function(e){let t=e,a=e[0].sales.map(e=>{let t={},a=e.weekEnding.split("-"),l=a[0].slice(2),n=a[1]+"-"+a[2]+"-"+l,r=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.retailSales),c=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.wholesaleSales),s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.retailerMargin);return t={weekEnding:n,retailSales:r,wholesaleSales:c,unitsSold:e.unitsSold,retailerMargin:s},t});return t[0].sales=a,t}((await s.a.get("stackline_frontend_assessment_data_2021.json")).data)})}catch(t){e({type:"FETCH_DATA_FAILURE",payload:t.message})}}}const i=e=>({type:"UPDATE_DATA",payload:e});var d,m,u=a(6);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}const E=e=>{let{svgRef:t,title:a,...l}=e;return n.a.createElement("svg",p({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 3415 597.8",style:{enableBackground:"new 0 0 3415 597.8"},xmlSpace:"preserve",ref:t},l),a?n.a.createElement("title",null,a):null,d||(d=n.a.createElement("style",{type:"text/css"},"\n\t.st0{fill:#FFFFFF;}\n")),m||(m=n.a.createElement("g",{id:"on_black"},n.a.createElement("path",{className:"st0",d:"M92.4,594.5c-51-0.1-92.3-41.4-92.4-92.4v-82.6h101v59c0,12.7,10.3,23,23,23l0,0h160c12.7,0,23-10.3,23-23l0,0 v-72.3c0-24.1-11.2-30.9-34.7-36.3l-156-33.6c-39.5-8.5-66.3-20-84.3-36.2C11.8,282,2,256.9,2,223.4V115.9 c0.1-51,41.4-92.3,92.4-92.4h215.2c51,0.1,92.3,41.4,92.4,92.4v75.6H301v-52c0-12.7-10.3-23-23-23l0,0H130c-12.7,0-23,10.3-23,23 l0,0V205c0,24.1,11.2,30.9,34.7,36.3l156,33.6c39.5,8.5,66.3,20,84.3,36.2c20.2,18.1,30,43.2,30,76.7v114.3 c-0.1,51-41.4,92.3-92.4,92.4H92.4z"}),n.a.createElement("path",{className:"st0",d:"M617,594.5c-46.4-0.1-83.9-37.6-84-84v-275h-67v-78h69V71.1l96-20.7v107.1h99v78h-97V492 c0,12.4,10.1,22.5,22.5,22.5H730v80H617z"}),n.a.createElement("path",{className:"st0",d:"M910.9,597.8c-42.5,0-70.4-8.7-87.9-27.3c-17.7-18.8-26-48.9-26-94.8c0-43.3,9.6-74.5,29.3-95.5 c17.5-18.6,43.4-30,81.6-35.9c41.5-6.4,84.8-9.7,145.5-13.3l7.5-0.4v-71.7c0-12.4-10.1-22.5-22.5-22.5h-105 c-12.4,0-22.5,10.1-22.5,22.5v22.5h-98v-40c0.1-46.4,37.6-83.9,84-84h180c46.4,0.1,83.9,37.6,84,84v353h-100v-87.6l-14.5,20.5 c-19.2,27.1-35.6,43.2-55,53.8C970.7,592.6,945.1,597.8,910.9,597.8z M1052.2,391.5c-48.4,5.1-97.6,14.1-121.1,20.4 c-24.4,6.5-35.3,15.6-35.3,52.2c0,18.2,1.2,31.2,7.1,39.5c6.6,9.3,17.2,11.2,31,11.2c55.6,0,86.7-16.7,119.6-34.4l7.5-4v-85.9 L1052.2,391.5z"}),n.a.createElement("path",{className:"st0",d:"M1343,594.5c-46.4-0.1-83.9-37.6-84-84v-269c0.1-46.4,37.6-83.9,84-84h180c46.4,0.1,83.9,37.6,84,84v66h-100 V265c0-12.4-10.1-22.5-22.5-22.5h-103c-12.4,0-22.5,10.1-22.5,22.5v223c0,12.4,10.1,22.5,22.5,22.5h103c12.4,0,22.5-10.1,22.5-22.5 v-43.5h100v66c-0.1,46.4-37.6,83.9-84,84H1343z"}),n.a.createElement("polygon",{className:"st0",points:"1978.2,594.5 1877.1,400.8 1804,492.3 1804,594.5 1706,594.5 1706,21.1 1804,0 1804,367.3 1963,157.5  2072.8,157.5 1939.1,323.9 2084.5,594.5  "}),n.a.createElement("polygon",{className:"st0",points:"2149,594.5 2149,21.8 2249,0.3 2249,594.5  "}),n.a.createElement("path",{className:"st0",d:"M2371,594.5v-437h100v437H2371z M2368,91.5V23.3l106-22.9v91.1H2368z"}),n.a.createElement("path",{className:"st0",d:"M2858,594.5V271.3c0-25.1-13.1-29.8-37.3-29.8c-44.8,0-86.4,12-124,35.5l-3.7,2.3v315.2h-100v-437h100v84.1 l14.6-21.1c34.7-50.1,69-67,136-67c41.9,0,71,8.1,88.8,24.8c17.5,16.4,25.7,41.7,25.7,79.6v336.6H2858z"}),n.a.createElement("path",{className:"st0",d:"M3140,594.5c-46.4-0.1-83.9-37.6-84-84v-269c0.1-46.4,37.6-83.9,84-84h191c46.4,0.1,83.9,37.6,84,84v159h-259 V494c0,12.4,10.1,22.5,22.5,22.5h114c12.4,0,22.5-10.1,22.5-22.5v-31.5h100v48c-0.1,46.4-37.6,83.9-84,84H3140z M3178.5,235.5 c-12.4,0-22.5,10.1-22.5,22.5v80.5h159V258c0-12.4-10.1-22.5-22.5-22.5H3178.5z"}))))},v=n.a.forwardRef((e,t)=>n.a.createElement(E,p({svgRef:t},e)));a.p;var h=function(){return n.a.createElement("header",{className:"header"},n.a.createElement(v,{height:"30"}))};function g(e){let{text:t}=e;return n.a.createElement("div",{className:"tag"},t)}var f=function(e){let{tags:t}=e;return n.a.createElement("div",{className:"tag-container"},t.map(e=>n.a.createElement(g,{text:e})))};var y=function(e){const{title:t,image:a,subtitle:l,tags:r}=e;return n.a.createElement("div",{className:"leftbar-container"},n.a.createElement("img",{src:a,alt:"product",width:"60%"}),n.a.createElement("h3",null,t),n.a.createElement("div",{className:"subtitle"},l),n.a.createElement(f,{tags:r}))},b=a(8);var S=e=>{let{data:t}=e,a=t.map(e=>{let t=e.retailSales.replace(/[^0-9]/g,"");return parseInt(t,10)/100}),r=t.map(e=>{let t=e.wholesaleSales.replace(/[^0-9]/g,"");return parseInt(t,10)/100});console.log("retailSalesArray, ",a);const[c]=Object(l.useState)([...a]),[s]=Object(l.useState)([...r]),o=Object(l.useRef)();return Object(l.useEffect)(()=>{const e=1400,t=b.e(o.current).attr("width","100%").attr("width",e).attr("height",600).style("overflow","visible").style("background","#FFFFFF"),a=b.d().domain([0,53]).range([0,e]),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=b.d().domain([0,1e6]).range([600,0]),r=b.b().x((e,t)=>a(t)).y(n),i=b.a(a).tickValues(b.c(0,54,4)).tickFormat((e,t)=>l[t%12]);t.append("g").call(i).attr("transform","translate(0,".concat(600,")")),t.selectAll(".line").data([c]).join("path").attr("d",e=>r(e)).attr("fill","none").attr("stroke","#636e72").attr("stroke-width",3),t.selectAll(".line").data([s]).join("path").attr("d",e=>r(e)).attr("fill","none").attr("stroke","#74b9ff").attr("stroke-width",3),t.append("text").attr("x",1380).attr("y",n(c[c.length-1].value)-20).attr("dy","2.5em").style("text-anchor","end").style("fill","#636e72").text("Retail Sales"),t.append("text").attr("x",1380).attr("y",n(s[s.length-1].value)).attr("dy","1em").style("text-anchor","end").style("fill","#74b9ff").text("Whole Sales")},[]),n.a.createElement("div",null,n.a.createElement("svg",{ref:o,style:{marginLeft:"100px",marginBottom:"50px",marginTop:"50px",display:"block"}}))},w=a(26),k=a(25);const F=n.a.createElement(w.a,{icon:k.b}),A=n.a.createElement(w.a,{icon:k.a});function N(e){let{sales:t,data:a}=e;const r=Object(u.b)(),[c,s]=Object(l.useState)(["down","down","down","down","down"]);return console.log("in sales table ,",a),n.a.createElement("div",null,n.a.createElement("p",{style:{color:"green"}},"Click table headers to change order"),n.a.createElement("table",{className:"sales-table"},n.a.createElement("thead",null,n.a.createElement("tr",null," ",["WEEK ENDING","RETAIL SALES","WHOLESALE SALES","UNITS SOLD","RETAILER MARGIN"].map((e,t)=>n.a.createElement("th",{key:t,onClick:()=>function(e){let t=c,l=c[e];if("down"===l){t[e]="up";for(let a=0;a<5;a++)a!==e&&(t[a]="down");s([...t])}else t[e]="down",s([...t]);function n(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const l=e.slice().sort((e,l)=>{const n=parseFloat(e[t].replace(/[$,]/g,"")),r=parseFloat(l[t].replace(/[$,]/g,""));return a?r-n:n-r});return l}console.log(l);let o={...a},d=o[0].sales;switch(e){case 0:if("down"===l){let e=d.slice().sort((e,t)=>t.weekEnding.localeCompare(e.weekEnding));o[0].sales=e,r(i(o))}else{let e=d.slice().sort((e,t)=>e.weekEnding.localeCompare(t.weekEnding));o[0].sales=e,r(i(o))}console.log("0");break;case 1:if("down"===l){let e=n(d,"retailSales",!0);o[0].sales=e,r(i(o))}else{let e=n(d,"retailSales",!1);o[0].sales=e,r(i(o))}console.log("1");break;case 2:if("down"===l){let e=n(d,"wholesaleSales",!0);o[0].sales=e,r(i(o))}else{let e=n(d,"wholesaleSales",!1);o[0].sales=e,r(i(o))}console.log("2");break;case 3:if("down"===l){let e=d.slice().sort((e,t)=>t.unitsSold-e.unitsSold);console.log("result,,,,",e),o[0].sales=e,r(i(o))}else{let e=d.slice().sort((e,t)=>-t.unitsSold+e.unitsSold);console.log("result,,,,",e),o[0].sales=e,r(i(o))}console.log("3");break;case 4:if("down"===l){let e=n(d,"retailerMargin",!0);o[0].sales=e,r(i(o))}else{let e=n(d,"retailerMargin",!1);o[0].sales=e,r(i(o))}console.log("4")}}(t)},n.a.createElement("span",{style:{paddingRight:"10px"}},e),"down"===c[t]?A:F)))),n.a.createElement("tbody",null,t.map((e,t)=>{let a=Object.values(e);return n.a.createElement("tr",{key:t},a.map((e,t)=>n.a.createElement("td",{key:t},e)))}))))}function x(e){let{sales:t}=e;return n.a.createElement("div",null,n.a.createElement("div",null,"Retail Sales "),n.a.createElement(S,{data:t}))}var O=function(e){let{sales:t,data:a}=e;return n.a.createElement("div",{className:"content-container"},n.a.createElement(x,{sales:t}),n.a.createElement(N,{sales:t,data:a}))};var j=function(e){let{data:t}=e;const{id:a,title:l,image:r,subtitle:c,brand:s,reviews:o,retailer:i,details:d,tags:m,sales:u}=t[0];return console.log(a,l,r,c,s,o),n.a.createElement("div",{className:"main-content"},n.a.createElement(y,{title:l,image:r,subtitle:c,tags:m}),n.a.createElement(O,{sales:u,data:t}))};var M=function(){const e=Object(u.b)(),t=Object(u.c)(e=>e.data);return Object(u.c)(e=>e.error),Object(l.useEffect)(()=>{e(o())},[e]),n.a.createElement("div",{className:"app-container"},n.a.createElement(h,null),t&&n.a.createElement(j,{data:t}))};var T=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,179)).then(t=>{let{getCLS:a,getFID:l,getFCP:n,getLCP:r,getTTFB:c}=t;a(e),l(e),n(e),r(e),c(e)})},C=a(18),D=a(45);const H={data:null,error:null};var _=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA_SUCCESS":return{...e,data:t.payload,error:null};case"FETCH_DATA_FAILURE":return{...e,data:null,error:t.payload};case"UPDATE_DATA":return{...e,data:t.payload,error:null};default:return e}},I=a(44);var L=Object(C.createStore)(_,Object(I.composeWithDevTools)(Object(C.applyMiddleware)(D.a)));c.a.createRoot(document.getElementById("root")).render(n.a.createElement(u.a,{store:L},n.a.createElement(n.a.StrictMode,null,n.a.createElement(M,null)))),T()}},[[158,1,2]]]);
//# sourceMappingURL=main.e333e468.chunk.js.map